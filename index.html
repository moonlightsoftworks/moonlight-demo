<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonlight Admin Panel</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0; }
        .container { width: 100%; padding: 20px; }
        .header { text-align: center; background: #333; color: white; padding: 15px 0; }
        .header h1 { margin: 0; }
        .panel { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }
        .panel input { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; }
        .btn { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; margin-right: 10px; }
        .btn:hover { background-color: #0056b3; }
        .action-container { margin: 20px 0; }
        .announcement-container { margin-top: 30px; }
        .announcement { padding: 15px; background: #fffae5; border-radius: 5px; border: 1px solid #f0e1a1; }
        .announcement-container textarea { padding: 10px; width: 100%; height: 100px; border-radius: 5px; border: 1px solid #ccc; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Moonlight Admin Panel</h1>
    </div>

    <!-- Register Panel -->
    <div id="registerPanel" class="panel hidden">
        <h2>Register</h2>
        <input type="text" id="regUsername" placeholder="Enter Username">
        <input type="password" id="regPassword" placeholder="Enter Password">
        <button class="btn" onclick="register()">Register</button>
    </div>

    <!-- Login Panel -->
    <div id="loginPanel" class="panel">
        <h2>Login</h2>
        <input type="text" id="loginUsername" placeholder="Enter Username">
        <input type="password" id="loginPassword" placeholder="Enter Password">
        <button class="btn" onclick="login()">Login</button>
    </div>

    <!-- Admin Panel (Visible After Login) -->
    <div id="adminPanel" class="panel hidden">
        <h2>Admin Panel</h2>
        <p>Welcome <span id="loggedInUser"></span>!</p>

        <div class="action-container">
            <button class="btn" onclick="banUser()">Ban User</button>
            <button class="btn" onclick="unbanUser()">Unban User</button>
        </div>

        <div class="announcement-container">
            <textarea id="announcement" placeholder="Write an announcement..." rows="4" style="width: 100%;"></textarea>
            <button class="btn" onclick="makeAnnouncement()">Make Public Announcement</button>
        </div>
        
        <div id="announcementDisplay" class="announcement" style="display: none;">
            <strong>Announcement:</strong> <span id="announcementText"></span>
        </div>

        <button class="btn" onclick="logout()">Logout</button>
    </div>
</div>

<script>
    // Helper functions for checking login status
    function isLoggedIn() {
        return localStorage.getItem('loggedInUser') !== null;
    }

    // Show/hide panels based on login status
    function updateUI() {
        if (isLoggedIn()) {
            document.getElementById('loginPanel').classList.add('hidden');
            document.getElementById('registerPanel').classList.add('hidden');
            document.getElementById('adminPanel').classList.remove('hidden');
            document.getElementById('loggedInUser').textContent = localStorage.getItem('loggedInUser');
        } else {
            document.getElementById('loginPanel').classList.remove('hidden');
            document.getElementById('registerPanel').classList.add('hidden');
            document.getElementById('adminPanel').classList.add('hidden');
        }
    }

    // Register function
    function register() {
        const username = document.getElementById('regUsername').value;
        const password = document.getElementById('regPassword').value;
        
        if (username && password) {
            localStorage.setItem('username', username);
            localStorage.setItem('password', password);
            alert('Registration Successful!');
            updateUI();
        } else {
            alert('Please enter both username and password');
        }
    }

    // Login function
    function login() {
        const username = document.getElementById('loginUsername').value;
        const password = document.getElementById('loginPassword').value;

        const savedUsername = localStorage.getItem('username');
        const savedPassword = localStorage.getItem('password');

        if (username === savedUsername && password === savedPassword) {
            localStorage.setItem('loggedInUser', username);
            alert('Login Successful!');
            updateUI();
        } else {
            alert('Invalid Username or Password');
        }
    }

    // Logout function
    function logout() {
        localStorage.removeItem('loggedInUser');
        alert('Logged out successfully');
        updateUI();
    }

    // Ban User function (mock functionality)
    function banUser() {
        alert('User has been banned.');
    }

    // Unban User function (mock functionality)
    function unbanUser() {
        alert('User has been unbanned.');
    }

    // Make Public Announcement function
    function makeAnnouncement() {
        const announcement = document.getElementById('announcement').value;
        if (announcement) {
            document.getElementById('announcementText').textContent = announcement;
            document.getElementById('announcementDisplay').style.display = 'block';
        } else {
            alert('Please write an announcement first!');
        }
    }

    // Initialize the page and check login status
    updateUI();
</script>

</body>
</html>