<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonlight Admin Panel</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0; }
        .container { width: 100%; padding: 20px; }
        .header { text-align: center; background: #333; color: white; padding: 15px 0; }
        .header h1 { margin: 0; }
        .panel { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }
        .panel input { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; }
        .btn { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; margin-right: 10px; }
        .btn:hover { background-color: #0056b3; }
        .action-container { margin: 20px 0; }
        .announcement-container { margin-top: 30px; }
        .announcement { padding: 15px; background: #fffae5; border-radius: 5px; border: 1px solid #f0e1a1; }
        .announcement-container textarea { padding: 10px; width: 100%; height: 100px; border-radius: 5px; border: 1px solid #ccc; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>Moonlight Admin Panel</h1>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="panel">
        <h2>Admin Panel</h2>
        <p>Welcome, <span id="loggedInUser"></span>!</p>

        <!-- User Search -->
        <input type="text" id="searchUser" placeholder="Search User" onkeyup="searchUser()">
        
        <div id="userActions">
            <button class="btn" onclick="banUser()">Ban User</button>
            <button class="btn" onclick="unbanUser()">Unban User</button>
            <button class="btn" onclick="blacklistUser()">Blacklist User</button>
            <button class="btn" onclick="unblacklistUser()">Unblacklist User</button>
            <button class="btn" onclick="terminateAccount()">Terminate Account</button>
            <button class="btn" onclick="unterminateAccount()">Unterminate Account</button>
        </div>

        <div class="announcement-container">
            <textarea id="announcement" placeholder="Write an announcement..." rows="4"></textarea>
            <button class="btn" onclick="makeAnnouncement()">Make Public Announcement</button>
        </div>

        <div id="announcementDisplay" class="announcement" style="display: none;">
            <strong>Announcement:</strong> <span id="announcementText"></span>
        </div>

        <button class="btn" onclick="logout()">Logout</button>
    </div>

</div>

<script>
// Simulate user data (this would be managed with a database in a real-world app)
let users = [
    { username: 'user1', banned: false, blacklisted: false, terminated: false },
    { username: 'user2', banned: false, blacklisted: false, terminated: false },
    // Add more users as needed
];

function updateUI() {
    document.getElementById('loggedInUser').textContent = localStorage.getItem('loggedInUser');
}

function searchUser() {
    const searchQuery = document.getElementById('searchUser').value.toLowerCase();
    const user = users.find(u => u.username.toLowerCase().includes(searchQuery));
    if (user) {
        alert(`User found: ${user.username}`);
    } else {
        alert('User not found');
    }
}

// Admin panel actions
function banUser() {
    const username = prompt('Enter username to ban:');
    const user = users.find(u => u.username === username);
    if (user) {
        user.banned = true;
        alert(`${username} has been banned.`);
    } else {
        alert('User not found');
    }
}

function unbanUser() {
    const username = prompt('Enter username to unban:');
    const user = users.find(u => u.username === username);
    if (user) {
        user.banned = false;
        alert(`${username} has been unbanned.`);
    } else {
        alert('User not found');
    }
}

function blacklistUser() {
    const username = prompt('Enter username to blacklist:');
    const user = users.find(u => u.username === username);
    if (user) {
        user.blacklisted = true;
        alert(`${username} has been blacklisted.`);
    } else {
        alert('User not found');
    }
}

function unblacklistUser() {
    const username = prompt('Enter username to unblacklist:');
    const user = users.find(u => u.username === username);
    if (user) {
        user.blacklisted = false;
        alert(`${username} has been removed from the blacklist.`);
    } else {
        alert('User not found');
    }
}

function terminateAccount() {
    const username = prompt('Enter username to terminate:');
    const user = users.find(u => u.username === username);
    if (user) {
        user.terminated = true;
        alert(`${username} account has been terminated. They must log out.`);
    } else {
        alert('User not found');
    }
}

function unterminateAccount() {
    const username = prompt('Enter username to unterminate:');
    const user = users.find(u => u.username === username);
    if (user) {
        user.terminated = false;
        alert(`${username} account has been unterminated.`);
    } else {
        alert('User not found');
    }
}

function makeAnnouncement() {
    const announcement = document.getElementById('announcement').value;
    if (announcement) {
        document.getElementById('announcementText').textContent = announcement;
        document.getElementById('announcementDisplay').style.display = 'block';
    } else {
        alert('Please write an announcement first!');
    }
}

function logout() {
    localStorage.removeItem('loggedInUser');
    alert('Logged out successfully');
    window.location.reload(); // Refresh the page to update UI
}

updateUI(); // Update the UI when the page loads
</script>

</body>
</html>